{% extends "base.html" %} {% block title %}{{profile.display_name}}{% endblock %}
<!-- Same as profile but no edit button, have the option to subscribe-->

{% block content %}

<div class="content-section">
  <div class="media">
    <div class="media-body" align="left">
      <header>
        <!-- Background image hardcoded-->
        <div
          class="p-5 text-center bg-image"
          style="
                background-image: url({{backdrop_image}});
                height: 400px;
              "
            >
              <div class="mask" style="background-color: rgba(48, 48, 48, 0.6);">
                <div class="d-flex justify-content-center align-items-center h-100">
                  <div class="text-white">
                    <!--Profile picture here-->
                    <img class="rounded-circle account-img" src="{{image_file}}" width="200" height="200">
                    <!-- Account info-->
                    <h1 class="mb-3">{{profile.display_name}}
                        <small class='text-muted'>#{{profile.profile_id}}</small>

                        <!-- Subscribe Button-->
                        <button class="btn btn-danger" id="subscribe" onclick="subState()" type="submit" method="POST">Subscribe</button>
                        <!-- javascript function that changes the state of the subscribe button-->
                        <script>
                          function subState() {
                            var toggle = document.getElementById("subscribe");
                            if (toggle.innerHTML == "Subscribe"){
                              toggle.innerHTML = "Subscribed"
                              toggle.style.backgroundColor = "rgba(220, 53, 69, 0.7)"
                                       
                            }
                            else {
                              // Add an alert so users have to confirm unsubscribing maybe use ajax
                              toggle.innerHTML = "Subscribe"
                              toggle.style.backgroundColor = "rgb(220, 53, 69, 1)"
                        
                            }
                          }
                        </script>

                    </h1>
                    <!-- Subscriber count: Need to create a list and link-->
                    <h4 class="text-info">Subscribers: X</h4>
                  </div>
                </div>      
              </div>
            </div>
          </div>
        </div>
        <!-- Background image -->
      </header>
    </div>
  </div>
  <!-- FORM HERE -->
</div>

<h1 class="account-heading">
  {{profile.display_name}}
  <small class="text-muted">#{{profile.profile_id}}</small>
</h1>
<p class="text-secondary">{{user.email}}</p>

<p class="lead">{{profile.first_name}} {{profile.last_name}}</p>
<!-- User Bio-->
<div class="form-group purple-border">
  <label for="exampleFormControlTextarea4">Personal Bio</label>
  <textarea
    class="form-control"
    id="exampleFormControlTextarea4"
    rows="3"
    readonly=""
  >
{{profile.bio}}</textarea
  >
</div>
<!-- User Bio-->

{% endblock %}
